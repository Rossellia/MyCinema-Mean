<div class="layout">

  <div class="l-left">
    <a href="#" class="toggle-menu topm1"><i class="material-icons">menu</i></a>
    <a href="" routerLinkActive="router-link-active" class="logo-menu">My Cinema Admin</a>
    <div class="menu">


        <a [routerLink]="['/addmovie']" routerLinkActive="router-link-active"   class="menu-item">
            <img src="../assets/icons/icon_products-1.svg" alt="" class="ico">
            Add Movies
        </a>
        <a [routerLink]="['/addroom']" routerLinkActive="router-link-active"  class="menu-item">
            <img src="../assets/icons/icon_Invoices-1.svg" alt="" class="ico">
            Add Cinema Rooms
        </a>
        <a [routerLink]="['/addprogram']" routerLinkActive="router-link-active"  class="menu-item">
            <img src="../assets/icons/icon_calendar-1.svg" alt="" class="ico">
           Add Program
        </a>
        <a [routerLink]="['/modifyuser']" routerLinkActive="router-link-active"  class="menu-item">
            <img src="../assets/icons/icon_setting.svg" alt="" class="ico">
           Modify Users
        </a>
    </div>
  </div>

  <div class="l-right">
  <app-adminsearchbar></app-adminsearchbar>
<div class="body-main">
  <p id="movies-title">Add Movies</p>


  <div class="left-half">
  <div class="movie-container">
  <form #addmovieForm="ngForm" (ngSubmit)="addmovieForm.valid">
        <input type="hidden" name="_id" #_id="ngModel" [(ngModel)]="adminService.selectedAdmin._id">

        <div class="movie-input"><input type="text" name="movieName" #movieName="ngModel" [(ngModel)]="adminService.selectedAdmin.movieName" placeholder="Enter the title of the movie"
        required [ngClass]="{'invalid-textbox' :addmovieForm.submitted && !movieName.valid }">
        <div *ngIf="addmovieForm.submitted && movieName.errors">
          <label *ngIf="movieName?.errors.required" class="validation-message">This field is required.</label>
        </div></div>
        <input type="text" name="movieDescription" #movieDescription="ngModel" [(ngModel)]="adminService.selectedAdmin.movieDescription" placeholder="Enter movie description"
        required [ngClass]="{'invalid-textbox' :addmovieForm.submitted && !movieDescription.valid}">
        <div *ngIf="addmovieForm.submitted && movieDescription.errors">
          <label *ngIf="movieDescription?.errors.required" class="validation-message">This field is required.</label>
        </div>

        <input type="number" name="moviePrice" #moviePrice="ngModel" [(ngModel)]="adminService.selectedAdmin.moviePrice" placeholder="Enter movie price:only numbers"
        required [ngClass]="{'invalid-textbox' :addmovieForm.submitted && !moviePrice.valid}">
        <div *ngIf="addmovieForm.submitted && moviePrice.errors">
          <label *ngIf="moviePrice?.errors.required" class="validation-message">This field is required.</label>
        </div>

        <input type="text" name="movieImage" #movieImage="ngModel" [(ngModel)]="adminService.selectedAdmin.movieImage" placeholder="Link to the movie image">

        <div  class="radiobutton-container" *ngFor="let genre of Genres">
          <div class="radio-btn">
            <input
            type="radio"
            name="movieGenre"
            value={{genre}}
            #movieGenre="ngModel"
            [(ngModel)]="adminService.selectedAdmin.movieGenre">{{genre}} </div>
          </div>


        <div class="button-container">
        <button class="button" type="button" (click)="resetForm(addmovieForm)">Reset</button>
        <input class="button" type="submit" [disabled]="!employeeForm.valid"   (click)="onSubmit(addmovieForm)" value="Add Movie">

       </div>
</form>

<!-- Error message -->
<div class="alert" *ngIf="serverErrorMessages">
  {{serverErrorMessages}}
  </div>
</div>


 <div class="right-half">
  <table >
      <thead>
        <tr>
          <th>Movie Name</th>
          <th>Movie Price</th>
          <th>Movie Genre</th>
          <th></th>
        </tr>
      </thead>
      <tr *ngFor="let movie of adminService.movies">
        <td>{{movie.movieName}}</td>
        <td>{{movie.moviePrice}}</td>
        <td>{{movie.movieGenre}}</td>
        <td>
            <button class="action-btn" (click)="onEdit(movie)">
              <i class="material-icons">edit</i>
            </button>
            <button class="action-btn" (click)="onDelete(movie._id,addmovieForm)">
              <i class="material-icons">delete</i>
            </button>
          </td>
      </tr>
    </table>
  </div>


</div>
</div>
</div>
</div>

